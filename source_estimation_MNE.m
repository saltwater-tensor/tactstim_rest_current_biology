% Script generated by Brainstorm (28-May-2021)

% Input files
sFiles = {...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial001.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial003.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial004.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial001_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial002_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial003_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial004_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial006_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial007_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial008_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial009_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial010_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial011_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial012_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial013_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial015_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial016_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial017_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial018_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial019_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial020_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial021_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial023_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial024_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial025_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial026_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial028_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial029_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial031_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial032_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial033_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial034_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial035_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial037_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial038_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial039_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial042_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial043_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial044_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial045_02.mat', ...
    'TR_S004/pre_stim_rest/data_pre_stim_rest_trial046_02.mat'};

% Start a new report
bst_report('Start', sFiles);

% Process: Compute sources [2018]
sFiles = bst_process('CallProcess', 'process_inverse_2018', sFiles, [], ...
    'output',  1, ...  % Kernel only: shared
    'inverse', struct(...
         'Comment',        'MN: MEG ALL', ...
         'InverseMethod',  'minnorm', ...
         'InverseMeasure', 'amplitude', ...
         'SourceOrient',   {{'fixed'}}, ...
         'Loose',          0.2, ...
         'UseDepth',       1, ...
         'WeightExp',      0.5, ...
         'WeightLimit',    10, ...
         'NoiseMethod',    'median', ...
         'NoiseReg',       0.1, ...
         'SnrMethod',      'fixed', ...
         'SnrRms',         1e-06, ...
         'SnrFixed',       3, ...
         'ComputeKernel',  1, ...
         'DataTypes',      {{'MEG GRAD', 'MEG MAG'}}));

% Save and display report
ReportFile = bst_report('Save', sFiles);
bst_report('Open', ReportFile);
% bst_report('Export', ReportFile, ExportDir);

