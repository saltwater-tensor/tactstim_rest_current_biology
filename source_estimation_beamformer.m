% Script generated by Brainstorm (28-May-2021)

% Input files
sFiles = {...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial001.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial002.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial003.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial004.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial005.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial006.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial009.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial012.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial013.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial014.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial015.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial016.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial017.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial018.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial020.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial023.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial024.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial025.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial026.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial027.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial028.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial029.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial030.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial031.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial032.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial033.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial034.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial035.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial036.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial037.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial038.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial040.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial041.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial042.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial043.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial044.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial045.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial046.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial047.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial048.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial050.mat', ...
    'TR_S005/pre_stim_rest/data_pre_stim_rest_trial051.mat'};

% Start a new report
bst_report('Start', sFiles);

% Process: Compute sources [2018]
sFiles = bst_process('CallProcess', 'process_inverse_2018', sFiles, [], ...
    'output',  1, ...  % Kernel only: shared
    'inverse', struct(...
         'Comment',        'PNAI: MEG ALL', ...
         'InverseMethod',  'lcmv', ...
         'InverseMeasure', 'nai', ...
         'SourceOrient',   {{'fixed'}}, ...
         'Loose',          0.2, ...
         'UseDepth',       1, ...
         'WeightExp',      0.5, ...
         'WeightLimit',    10, ...
         'NoiseMethod',    'median', ...
         'NoiseReg',       0.1, ...
         'SnrMethod',      'rms', ...
         'SnrRms',         1e-06, ...
         'SnrFixed',       3, ...
         'ComputeKernel',  1, ...
         'DataTypes',      {{'MEG GRAD', 'MEG MAG'}}));

% Save and display report
ReportFile = bst_report('Save', sFiles);
bst_report('Open', ReportFile);
% bst_report('Export', ReportFile, ExportDir);

